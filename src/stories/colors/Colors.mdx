import { Meta, Canvas } from "@storybook/addon-docs/blocks"
import config from "@/config/site"
import { ColorList } from "./ColorList"
import { TableOfContents } from "@/stories/_components/TableOfContents"
import FoundationColor from "@/assets/docs/foundation-color.png"
// dynamic tokens: ColorList will scan stylesheets at runtime; no static token manifest imported

<Meta title="Foundations/Colors" />

<div className="mb-space-2xl!">
  <img 
    className="w-full h-48 object-cover rounded-xl" 
    src="/assets/color-illustration.jpg" 
    alt="Foundation Color" 
  />
</div>

<div className="flex gap-space-4xl">
  <div>
    # Colors
    **{config.title}** is a highly visual tool, and our color system plays a critical role in enhancing usability. Colors help users quickly identify statuses, recognize actionable elements, find guidance, and understand the next steps.
    By using a consistent and accessible color language, we reduce cognitive load and deliver a cohesive user experience across the product. Our palette is structured into three main themes to support various use cases and accessibility requirements.

    <br />
    <br />

    ## **Text Colors**
    **Text color tokens** define a consistent set of colors specifically for typography. They ensure readability, contrast, and alignment with the design system's semantic rules for text elements.
    <ColorList prefix="text-color" groupKey="text" />

    ## **Link Colors**
    **Link color tokens** tell users which text elements are interactive hyperlinks. They provide visual cues through color changes on hover and active states, enhancing usability and navigation.
    <ColorList prefix="link-color" groupKey="link" />

    ## **Icon Colors**
    **Icon color tokens** provide a standardized palette for iconography across the UI. They ensure icons are visually distinct, accessible, and aligned with the overall design language.
    <ColorList prefix="icon-color" groupKey="icon" />

    ## **Border Colors**
    **Border color tokens** provide a standardized palette for outlining, dividing, and framing components. They reinforce visual hierarchy, separate content, and maintain consistent boundaries across the UI.
    <ColorList prefix="border-color" groupKey="border" />

    ## **Background Colors**
    **Background color tokens** establish the base and contextual layers of the interface. They create depth, group related content, and align with brand guidelines for visual balance.
    <ColorList prefix="background-color" groupKey="background" />

    ## **Chart Colors**
    **Chart color tokens** provide a consistent and accessible palette for data visualization elements. They ensure clarity, distinction, and alignment with the overall design language.
    <ColorList prefix="chart-color" groupKey="chart" />

    ## **Shadow Colors**
    **Shadow color tokens** define the colors used for shadows and elevation effects in the UI. They enhance depth perception, highlight interactive elements, and maintain visual hierarchy.
    <ColorList prefix="shadow-color" groupKey="shadow" />

    ## **Elevation**
    Elevation in our design system is represented through a series of shadow styles that create depth and hierarchy within the user interface. These elevation levels help distinguish between different layers of content, guiding users' attention and improving overall usability.
    
    ### **Surface**
    **Elevation Surface**: The base layer with no shadow, representing the default surface level. It provides a clean and neutral backdrop for content.
    <ColorList prefix="elevation" groupKey="elevation-surface" />

    ### **Shadow**
    **Elevation Shadow**: A set of shadow styles that indicate different levels of elevation. These shadows create a sense of depth, helping users understand the spatial relationships between UI elements.
    <ColorList prefix="elevation" groupKey="shadow-elevation" />

    ## **Usage**

    ### Implementation Principles
    - **Use tokens, not hex:** Always reference semantic tokens (e.g. `bg-ds-default`, `border-ds-default`, `text-ds-brand`) rather than raw colors so updates are centralized.
    - **Map tokens to states:** For each component define defaults, hover, pressed, active and disabled tokens (e.g. `bg-ds-primary`, `bg-ds-primary-hovered`, `bg-ds-primary-pressed`, `bg-ds-disabled`).
    - **Pair surface + text:** Choose background and text token pairs that meet accessibility contrast (e.g. `bg-ds-surface` + `text-ds-default`).
    - **Keep borders semantic:** Use border tokens for structure, focus and selection (`border-ds-default`, `border-ds-focused`, `border-ds-selected`).
    - **Prefer token names that reflect intent:** Use names that describe role (e.g. `bg-ds-input`, `bg-ds-accent-violet-intense`) so developers pick them correctly.
    - **Document component-level usage:** Each component should list which tokens it uses for which state.

    <br />

    <div>
      ### Quick token → component mapping
      <table className="w-full text-left border-collapse">
        <thead>
          <tr>
            <th className="py-space-sm px-space-md border-b">Token</th>
            <th className="py-space-sm px-space-md border-b">Where to use</th>
            <th className="py-space-sm px-space-md border-b">State</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td className="py-space-sm px-space-md font-semibold">bg-ds-default</td>
            <td className="py-space-sm px-space-md">Dropdown, popovers, menus</td>
            <td className="py-space-sm px-space-md">Default surface</td>
          </tr>
          <tr>
            <td className="py-space-sm px-space-md font-semibold">bg-ds-primary-hovered</td>
            <td className="py-space-sm px-space-md">Dropdown option, button hover</td>
            <td className="py-space-sm px-space-md">Hover</td>
          </tr>
          <tr>
            <td className="py-space-sm px-space-md font-semibold">bg-ds-primary-pressed</td>
            <td className="py-space-sm px-space-md">Button active, pressed list item</td>
            <td className="py-space-sm px-space-md">Pressed / Active</td>
          </tr>
          <tr>
            <td className="py-space-sm px-space-md font-semibold">border-ds-default</td>
            <td className="py-space-sm px-space-md">Cards, modals, form fields</td>
            <td className="py-space-sm px-space-md">Default border</td>
          </tr>
          <tr>
            <td className="py-space-sm px-space-md font-semibold">border-ds-focused</td>
            <td className="py-space-sm px-space-md">Input focus ring / outline</td>
            <td className="py-space-sm px-space-md">Focus</td>
          </tr>
          <tr>
            <td className="py-space-sm px-space-md font-semibold">text-ds-default</td>
            <td className="py-space-sm px-space-md">Body copy, labels, buttons</td>
            <td className="py-space-sm px-space-md">Default text</td>
          </tr>
        </tbody>
      </table>
    </div>

    ## **Examples**
    The following examples showcase how our **Foundation Colors** are applied across various UI patterns. Each example highlights real component usage, ensuring the color system remains consistent and accessible in different contexts.

    ### Menu
    <div className="border border-ds-default rounded-md p-space-lg">
      <img
        className="w-full object-cover" 
        src="/assets/colors-implementation.png" 
        alt="Foundation Color" 
      />
    </div>
          
    ### Card Vertical
    <div className="border border-ds-default rounded-md p-space-lg">
      <img
        className="w-full object-cover" 
        src="/assets/color-use-in-vertical-card.png" 
        alt="Foundation Color" 
      />
    </div>

    ### Card Horizontal
    <div className="border border-ds-default rounded-md p-space-lg flex items-center">
      <img
        className="w-full object-cover" 
        src="/assets/color-use-in-horizontal-card.png" 
        alt="Foundation Color" 
      />
    </div>

    ---   

    ## Conclusion — How to implement

    - **Reference tokens in CSS/Tailwind:** Map design tokens to CSS variables or Tailwind theme values once, then use semantic classes (e.g., `bg-[var(--color-bg-ds-default)]` or map `bg-ds-default` in Tailwind).
    - **Define component token contracts:** For each component document which tokens are used for default, hover, pressed and disabled states.
    - **Enforce accessibility:** Validate color pairs for contrast when choosing text + background tokens.
    - **Keep tokens semantic:** Use intent-based names so maintainers and consumers pick tokens correctly.
    - **Centralize updates:** Change the token value centrally to update across the product without editing component code.

    <div className="m-0! inline-block bg-ds-info p-space-sm rounded-md [&>*]:m-0! [&>*]:text-ds-accent-cyan! [&>*]:font-semibold [&>*]:text-sm!">
      Tip: Add a short “how to use” snippet on each component's Storybook page that shows the exact token names used for its states.
    </div>
  </div>

  <div>
    <TableOfContents
      items={[
        {
          id: "colors",
          label: "Colors",
          children: [
            {
              id: "text-colors",
              label: "Text",
            },
            {
              id: 'link-colors',
              label: 'Link'
            },
            {
              id: "icon-colors",
              label: "Icon",
            },
            {
              id: "border-colors",
              label: "Border",
            },
            {
              id: "background-colors",
              label: "Background",
            },
            {
              id: "chart-colors",
              label: "Chart",
            },
            {
              id: "shadow-colors",
              label: "Shadow",
            }
          ]
        },
        {
          id: "elevation",
          label: "Elevation",
          children: [
            {
              id: "surface",
              label: "Surface",
            },
            {
              id: "shadow",
              label: "Shadow",
            }
          ]
        },
        {
          id: 'usage',
          label: "Usage & Implementation",
        },
        {
          id: "examples",
          label: "Examples"
        },
        {
          id: "conclusion--how-to-implement",
          label: "Conclusion"
        }
      ]}
    />
  </div>
</div>